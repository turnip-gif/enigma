<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ENIGMA Animation Only</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400&display=swap" rel="stylesheet">
    <style>
      html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: black;
        font-family: 'Roboto Mono', monospace;
      }

      canvas {
        display: block;
      }
    </style>
  </head>
  <body>
    <canvas id="heroCanvas"></canvas>
    <script>
      const canvas = document.getElementById('heroCanvas');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const letters = 'ENIGMA'.split('');
      const cols = Math.floor(canvas.width / 50);
      const rows = Math.floor(canvas.height / 50);
      const particles = [];
      const mouse = { x: -1000, y: -1000 };

      class Particle {
        constructor(x, y) {
          this.x = x;
          this.y = y;
          this.char = letters[Math.floor(Math.random() * letters.length)];
          this.baseSize = 14;
          this.size = this.baseSize;
        }
        draw() {
          ctx.font = `${this.size}px 'Roboto Mono'`;
          ctx.fillStyle = 'rgba(255, 255, 255, 0.2)';
          ctx.shadowColor = 'rgba(255,255,255,0.3)';
          ctx.shadowBlur = 6;
          ctx.fillText(this.char, this.x, this.y);
        }
        update() {
          const dx = this.x - mouse.x;
          const dy = this.y - mouse.y;
          const dist = Math.sqrt(dx * dx + dy * dy);
          if (dist < 100) {
            this.size = this.baseSize + (100 - dist) * 0.1;
          } else {
            this.size += (this.baseSize - this.size) * 0.1;
          }
        }
      }

      for (let y = 40; y < canvas.height; y += 50) {
        for (let x = 20; x < canvas.width; x += 50) {
          particles.push(new Particle(x, y));
        }
      }

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => {
          p.update();
          p.draw();
        });
        requestAnimationFrame(animate);
      }

      animate();

      // Randomly flip letters every 200ms
      setInterval(() => {
        const amountToFlip = Math.floor(particles.length * 0.05); // flip ~5% of letters
        for (let i = 0; i < amountToFlip; i++) {
          const index = Math.floor(Math.random() * particles.length);
          const p = particles[index];
          const newChar = letters[Math.floor(Math.random() * letters.length)];
          p.char = newChar;
        }
      }, 200);

      window.addEventListener('mousemove', e => {
        mouse.x = e.clientX;
        mouse.y = e.clientY;
      });

      window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });
    </script>
  </body>
</html>
